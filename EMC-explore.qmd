---
title: "Emma Scratch Work"
format: html
---

## Loading in the Data:

```{r}
#| output: false
##Packages!!====================================================================
library(tidyverse)
library(here)

#the files======================================================================
drone=read_csv(here::here("data/raw/Universal Project Data/uasdata.csv"))
ocean=read_csv(here::here("data/raw/Universal Project Data/oce.indices.csv"))
procedure=read_csv(here::here("data/raw/ESEAL_FORAGING_2024_REVISED.v2.csv"))

skimr::skim(drone)
skimr::skim(ocean)
skimr::skim(procedure)
```

#### [Some things to note!!]{.underline} 

-   units are not always the same between procedure data and drone data

    -   ex- SL is in cm, polygon length appears to be in m

-   time frames are different (procedure=2004-2024, drone=20216-2025)

-   drone data includes male and pup classes, procedure data appears to include only females

## Drone-Only Exploratory Figures 

### In-Class Plot: Length/Width

```{r}
basic=ggplot(data=drone, mapping = aes(x = width , y = length))+
  geom_point(alpha=0.2, aes(color=class))+
  theme_bw()+
  scale_color_viridis_d()
basic
```

### cleaning variable classifications 

```{r}
#lets change class and year to be factors for visualization purposes 
drone.cleanv1 <- drone %>%
  mutate(class.f = relevel(as.factor(class), 'male', 'female', 'pup' ), 
         year.f = relevel(as.factor(year), '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'))

#save changes as a new csv
write_csv(drone.cleanv1,"./data/cleaned/uascleanv1.csv" )
```

### Plot: Length Across Years 

```{r}
#color palette 
classpalette = c(
  "male" = "#264653", 
  "female" = "#2a9d8f", 
  "pup" = "#9fe9e0")

#the plot 
fun=ggplot(data=drone.cleanv1, mapping = aes(x = year.f , y = length, color=class.f))+
  geom_point(alpha = 0.2, position = position_dodge(width = 0.7)) +
  #facet_grid(class.f~.,switch='y')+
  theme_bw()+
  scale_color_manual(values = classpalette)+
  labs(y= "Polygon Length (m)", x= "Year", color="Class")
fun
```

## Exploring Both Datasets 
